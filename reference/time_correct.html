<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Correct for potential degradation of muscle over time."><title>Time correction for work loop experiments — time_correct • workloopR</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Time correction for work loop experiments — time_correct"><meta property="og:description" content="Correct for potential degradation of muscle over time."><meta property="og:image" content="https://docs.ropensci.org/workloopR/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">workloopR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/Introduction-to-workloopR.html">Introduction to workloopR</a>
    <a class="dropdown-item" href="../articles/non-ddf-sources.html">Importing data from non .ddf sources</a>
    <a class="dropdown-item" href="../articles/Calculating-twitch-kinetics.html">Working with isometric experiments</a>
    <a class="dropdown-item" href="../articles/Analyzing-workloops.html">Analyzing work loop experiments</a>
    <a class="dropdown-item" href="../articles/batch-processing.html">Batch processing</a>
    <a class="dropdown-item" href="../articles/Plotting-workloopR.html">Plotting data in workloopR</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/workloopR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Time correction for work loop experiments</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/workloopR/blob/HEAD/R/analysis_functions.R" class="external-link"><code>R/analysis_functions.R</code></a></small>
      <div class="d-none name"><code>time_correct.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Correct for potential degradation of muscle over time.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">time_correct</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A <code>data.frame</code> with summary data, e.g. an object created by
<code><a href="summarize_wl_trials.html">summarize_wl_trials()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>data.frame</code> that additionally contains:</p>
<dl><dt>Time_Corrected_Work </dt>
<dd><p>Time corrected work output, transformed from
 <code>$Mean_Work</code></p></dd>

<dt>Time_Corrected_Power </dt>
<dd><p>Time corrected net power output, transformed
from <code>$Mean_Power</code></p></dd>


</dl><p>And new attributes:</p>
<dl><dt>power_difference </dt>
<dd><p>Difference in mass-specific net power output
between the final and first trials.</p></dd>

<dt>time_difference </dt>
<dd><p>Difference in mtime between the final and first
trials.</p></dd>

<dt>time_correction_rate </dt>
<dd><p>Overall rate; <code>power_difference</code> divided
 by <code>time_difference</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function assumes that across a batch of successive trials, the
stimulation parameters for the first and final trials are identical. If not,
DO NOT USE. Decline in power output is therefore assumed to be a linear
function of time. Accordingly, the difference between the final and first
trial's (absolute) power output is used to 'correct' trials that occur in
between, with explicit consideration of run order and time elapsed (via
mtime). A similar correction procedure is applied to work.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="summarize_wl_trials.html">summarize_wl_trials</a></code></p>
<p>Other workloop functions: 
<code><a href="analyze_workloop.html">analyze_workloop</a>()</code>,
<code><a href="fix_GR.html">fix_GR</a>()</code>,
<code><a href="get_wl_metadata.html">get_wl_metadata</a>()</code>,
<code><a href="invert_position.html">invert_position</a>()</code>,
<code><a href="read_analyze_wl_dir.html">read_analyze_wl_dir</a>()</code>,
<code><a href="read_analyze_wl.html">read_analyze_wl</a>()</code>,
<code><a href="select_cycles.html">select_cycles</a>()</code>,
<code><a href="summarize_wl_trials.html">summarize_wl_trials</a>()</code></p>
<p>Other batch analyses: 
<code><a href="get_wl_metadata.html">get_wl_metadata</a>()</code>,
<code><a href="read_analyze_wl_dir.html">read_analyze_wl_dir</a>()</code>,
<code><a href="summarize_wl_trials.html">summarize_wl_trials</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Vikram B. Baliga and Shreeram Senthivasan</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/workloopR/">workloopR</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># batch read and analyze files included with workloopR</span></span></span>
<span class="r-in"><span><span class="va">analyzed_wls</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_analyze_wl_dir.html">read_analyze_wl_dir</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/wl_duration_trials"</span>,</span></span>
<span class="r-in"><span>                                                package <span class="op">=</span> <span class="st">'workloopR'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                    phase_from_peak <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                    cycle_def <span class="op">=</span> <span class="st">"p2p"</span>, keep_cycles <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now summarize</span></span></span>
<span class="r-in"><span><span class="va">summarized_wls</span> <span class="op">&lt;-</span> <span class="fu"><a href="summarize_wl_trials.html">summarize_wl_trials</a></span><span class="op">(</span><span class="va">analyzed_wls</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># mtimes within the package are not accurate, so we'll supply</span></span></span>
<span class="r-in"><span><span class="co"># our own vector of mtimes</span></span></span>
<span class="r-in"><span><span class="va">summarized_wls</span><span class="op">$</span><span class="va">mtime</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                          <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                            <span class="st">"extdata/wl_duration_trials/ddfmtimes.csv"</span>,</span></span>
<span class="r-in"><span>                            package<span class="op">=</span><span class="st">"workloopR"</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">mtime</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now time correct</span></span></span>
<span class="r-in"><span><span class="va">timecor_wls</span> <span class="op">&lt;-</span> <span class="fu">time_correct</span><span class="op">(</span><span class="va">summarized_wls</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">timecor_wls</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         File_ID Cycle_Frequency Amplitude  Phase Stimulus_Pulses</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 01_4pulse.ddf              28      3.15 -24.36               4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 02_2pulse.ddf              28      3.15 -24.64               2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 03_6pulse.ddf              28      3.15 -24.92               6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 04_4pulse.ddf              28      3.15 -24.64               4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Stimulus_Frequency      mtime     Mean_Work   Mean_Power Time_Corrected_Work</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                300 1409014596  0.0028362363  0.078967198        0.0028362363</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                300 1409014778  0.0009686570  0.026247519        0.0010905501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                300 1409015053 -0.0001310863 -0.004017894        0.0001749861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                300 1409015235  0.0024082708  0.066959552        0.0028362363</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Time_Corrected_Power</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          0.078967198</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          0.029667538</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          0.004569734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          0.078967198</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

